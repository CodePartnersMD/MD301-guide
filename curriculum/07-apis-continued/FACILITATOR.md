# Class 07: APIs (continued)

## Overview

Today's lab involves quite a bit of refactoring from lab 6. The `searchToLatLong` function will now create a new instance from a constructor, as shown in two parts in the demo code. Also, show students how to refactor the weather callback in the same manner. You do not necessarily need to write the Weather constructor during the demo; you can write the Location constructor and discuss the Weather constructor instead.

Students will also refactor `.forEach` to `.map`, so discuss this process but do not code the solution for them. `.map` is also the code challenge for today.

## How do I prep for today?

During code review of lab 6, plan to conduct a "follow the code execution" exercise where students will trace the order of function calls. This exercise works well with a visualization of the call stack, one function at a time. Use a drawing tool like an iPad or the whiteboard for this illustration. Write down functions as they are added to the stack, from the bottom of the screen/whiteboard to the top, and erase each one as its execution completes.

Begin with solution code for class 6 as the starter code for class 7 demo code, to save lines of typing the same code they have just seen during code review. Or, use code from a team that would like their code base to be reviewed and refactored.

## What changed from the previous class?

Students will be refactoring their code to use constructor functions. This topic should be review from 201, but do not assume that students remember the correct syntax. It can be helpful to ask students to tell you what to write in order to jog their memory.

## What might students struggle with today?

Students may be behind from lab 6, so this will be a good time to discuss the solution code and provide some momentum to keep working. Once they feel good about the pattern, adding the Yelp and Movie DB APIs should not be too much more of a challenge.

## What bugs, issues, or surprises have come up in the past for this class?

## General comments

## Lecture

## Code skeleton

## Whiteboard diagrams
